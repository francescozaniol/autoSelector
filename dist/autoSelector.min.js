(function(){var e,t;var r,i,n,l,o,a=null,s;var f=/{{scope-[a-z\/]*[\/]?tagName[\/]?[a-z\/]*}}/;var c=/{{scope-[a-z]*[\/]?id[\/]?[a-z\/]*}}/;var u=/{{scope-[a-z]*[\/]?class[\/]?[a-z\/]*}}/;var p={selector:"[js]",prefix:"","parsed-attribute":"js",wrapper:window.jQuery};function d(t){if(!t)return;for(e in p){if(t[e])p[e]=t[e]}}window.autoSelector=function(t){if(!t)return;a={};for(e in p){if(t[e])a[e]=t[e];else a[e]=p[e]}return window.autoSelector};function g(d){if(typeof d=="string"){d=w(d,document)}if(!d||d.length===0||typeof d.length!=="number"&&!d.nodeType||d.length>0&&!d[0].nodeType){return null}var h={self:d};if(!d.nodeType&&d.length&&d[0].nodeType){if(d.length===1){d=d[0]}else{s=a;for(var m=d.length-1;m>=0;m--){a=s;h[m]=g(d[m]);for(t in h[m]){if(!h[t]){h[t]=[]}h[t].push(h[m][t])}}a=null;return h}}l=a||p;for(e in l){if(typeof l[e]=="string"&&l[e].indexOf("{{")!==-1){if(o=f.exec(l[e])){l[e]=l[e].replace(o[0],d.nodeName.toLowerCase());continue}if(o=c.exec(l[e])){l[e]=l[e].replace(o[0],d.id);continue}if(o=u.exec(l[e])){l[e]=l[e].replace(o[0],d.nodeName.toLowerCase());continue}}}i=w(l["selector"],d);for(m=0;m<i.length;m++){if(l["parsed-attribute"]==="id")r=i[m].id;else if(l["parsed-attribute"]==="class")r=i[m].className;else if(l["parsed-attribute"]==="id/class"){r=i[m].id+(i[m].id.length&&i[m].className.length?" ":"")+i[m].className}else r=i[m].getAttribute(l["parsed-attribute"]);if(r.indexOf(" ")>-1){r=r.split(" ")}else{r=[r]}for(y=r.length-1;y>=0;y--){if(l["prefix"]&&r[y].indexOf(l["prefix"])==-1)continue;r[y]=r[y].replace(l["prefix"],"");n=h[r[y]];if(n){if(!n.length){h[r[y]]=[n]}h[r[y]].push(i[m])}else{h[r[y]]=i[m]}}}if(l["wrapper"]){for(e in h){if(Object.defineProperty&&Object.bind){Object.defineProperty(h,"$"+e,{get:b.bind({collection:h,id:e,wrapper:l["wrapper"]}),configurable:true})}else{h["$"+e]=l["wrapper"](h[e])}}}a=null;return h}var h=/^[#\.]?[\\!\w-]+$/;function w(e,t){if(h.test(e)){if(e[0]=="."){return t.getElementsByClassName?t.getElementsByClassName(e.substr(1)):t.querySelectorAll(e)}else if(e[0]=="#"){return document.getElementById(e.substr(1))}else{return t.getElementsByTagName(e)}}else{return t.querySelectorAll(e)}}function b(){Object.defineProperty(this.collection,"$"+this.id,{value:this.wrapper(this.collection[this.id])});return this.collection["$"+this.id]}window.autoSelector.setDefaultConf=d;window.autoSelector.parse=g})();